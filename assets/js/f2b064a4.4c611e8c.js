"use strict";(self.webpackChunksero_docs_v_3=self.webpackChunksero_docs_v_3||[]).push([[945],{34971:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>T,contentTitle:()=>b,default:()=>g,frontMatter:()=>f,metadata:()=>k,toc:()=>h});var t=s(87462),l=(s(67294),s(3905)),i=s(58219),m=(s(62316),s(51039)),n=s.n(m),o=(s(82723),s(9487)),d=s(41429),r=s(5397),p=s(4667),u=s(9472),c=(s(1176),s(12005),s(85162));const f={id:"upload-site",title:"Uploads site for a specified subdomain.",description:"Warning: Old files will be removed after successful upload.",sidebar_label:"Uploads site for a specified subdomain.",hide_title:!0,hide_table_of_contents:!0,api:"eJztV1Fv20YM/ivEvXQDFCfrOhQwhmFO4wAp0qSznXZDEqT0ibauOd2pd5QdN9B/HyjJsRIbfRqCPeRJ0h3JI/l9pHj3inEeVf9SDTQb76K6TlRKUQdTyLfqq88YnHHzPpzbFGbGUoSlsRamBIFyv6AUcMYUIJZaU4yz0kJZWI9p78pNMgJtCV1ZAGO8BRNBezcz8zJQCkvDGXx5dzocnN2cH47PT4eT4c3J2WQ4+jQ4/QLkFlfuZNaagxkaG4EzcuC3fCkCRQoLklOfqngHnEFknBP4GdAdB9Rs3By+m6KxeOUcLSGW09TnaNyDWYzRa4O8draMFK7clbto7M9LDCnojPRtBMx96VhOaE6PgAs0FqeWYOZDrdvmpNHblYwPg79vxieT4fjm43B0czEejuo89FSifEEBBZWTVPVV60E0TCpRBQbMiSkImPfKYU6qr+72HiJSiTICZ0aYUlBPUe5IQiMCgeqcOo4g5iSujQx70GgtYE0b8GI/0LfSBEpVn0NJiYo6oxxV/17xqhB3Igfj5qqqrhthinzo05VIaO+YHMtrXlo2BQben/mQ76XItY0ta376lTQ/OvdSYdCZWZDQuAiSMDYURWm9seVNouQYZNVXU+MwrFRVJYoNW3rI8pH4UMn64xjrhVh4F5tDXh+8kcfj1I4NEywxdgrErlqKUKqqRL05ONhWE5q86sDyao2LiZCbGIW+PgiBGI2LYNwCrREyorCbQhTOdPKKRWGNrgm0/zXKGT9K6lNnTITIodQs5yOsw65ZIXUXwDiYNoQs60OE6cig0Ukh1VV9NjiF8XD0aTiC4Wh0PpIADgdHMBr+dTEcT67cP76sFWbGpSD8Mq5BR0hmHATC6GWbbPoE+WZrG/h2fQfuO0KsDTfF3yYWKAQfun484scRsbQYIUcN5C/bQF44LDnzwXyntA8C6/vPEwmGM+pgusbPB6C7QqJ6we/58ft1G79jH6YmTck14G16oIngl45SmK4AneeM2h7/gtuz47aj7555hmNfurborJ8bJ4F3fvIYwXmGmUj1YEwEaWO3/l/nPlDXgRdcnxvX33b9GE8cU3BoYdzkaSgG+zBYm/Zal0EGKt+02CadL+A9L3hVoiLpMhhe1RPpIWGgsPf+80T1L69lAsyJMy+TbOEj1yMsZ6qv9rEw++1Uu7YwFmSaCLp2HqLImAvVDpzyPa2FVNK+HK8HPNESzySAWr11PFLwWzn4UBrLpm0VkZGNrqdtyHzkJml1WnRNqHbi1tYvv5PAQTkau1npLX24/XMuiz3tcxn7rNHkInW0P5xMZGNBITY+HPRe997KkuQoR9eRvWjvGLVL0q4QYkHazAylmx7XexpWZ9R+udr9b652LY+Z7ni/sHJdqxJVBit4NXVxqbAwwnGpjOtECQll9f5+ipEugq0qWf5WUpCCu07UAoMRB+t6S9YXP6nF1ETZSFV/hjbSDxjy06htKj/Df3FD3BnmLa22rqoLtKVIqiq5bwXeNU7tTcTGRmLXbXGjNNCaCu6Ib/X9R53o4/l4Il2jvZTmPhUdMVzbTTavTU5lsO+0oSdtp851u4Vu1fHi96aLwcTfkvtDrXPA8qmq66qq/gUa8Sd0",sidebar_class_name:"post api-method",info_path:"docs/OpenAPI/sero",custom_edit_url:null},b=void 0,k={unversionedId:"OpenAPI/upload-site",id:"OpenAPI/upload-site",title:"Uploads site for a specified subdomain.",description:"Warning: Old files will be removed after successful upload.",source:"@site/docs/OpenAPI/upload-site.api.mdx",sourceDirName:"OpenAPI",slug:"/OpenAPI/upload-site",permalink:"/sero-docs/docs/OpenAPI/upload-site",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{id:"upload-site",title:"Uploads site for a specified subdomain.",description:"Warning: Old files will be removed after successful upload.",sidebar_label:"Uploads site for a specified subdomain.",hide_title:!0,hide_table_of_contents:!0,api:"eJztV1Fv20YM/ivEvXQDFCfrOhQwhmFO4wAp0qSznXZDEqT0ibauOd2pd5QdN9B/HyjJsRIbfRqCPeRJ0h3JI/l9pHj3inEeVf9SDTQb76K6TlRKUQdTyLfqq88YnHHzPpzbFGbGUoSlsRamBIFyv6AUcMYUIJZaU4yz0kJZWI9p78pNMgJtCV1ZAGO8BRNBezcz8zJQCkvDGXx5dzocnN2cH47PT4eT4c3J2WQ4+jQ4/QLkFlfuZNaagxkaG4EzcuC3fCkCRQoLklOfqngHnEFknBP4GdAdB9Rs3By+m6KxeOUcLSGW09TnaNyDWYzRa4O8draMFK7clbto7M9LDCnojPRtBMx96VhOaE6PgAs0FqeWYOZDrdvmpNHblYwPg79vxieT4fjm43B0czEejuo89FSifEEBBZWTVPVV60E0TCpRBQbMiSkImPfKYU6qr+72HiJSiTICZ0aYUlBPUe5IQiMCgeqcOo4g5iSujQx70GgtYE0b8GI/0LfSBEpVn0NJiYo6oxxV/17xqhB3Igfj5qqqrhthinzo05VIaO+YHMtrXlo2BQben/mQ76XItY0ta376lTQ/OvdSYdCZWZDQuAiSMDYURWm9seVNouQYZNVXU+MwrFRVJYoNW3rI8pH4UMn64xjrhVh4F5tDXh+8kcfj1I4NEywxdgrErlqKUKqqRL05ONhWE5q86sDyao2LiZCbGIW+PgiBGI2LYNwCrREyorCbQhTOdPKKRWGNrgm0/zXKGT9K6lNnTITIodQs5yOsw65ZIXUXwDiYNoQs60OE6cig0Ukh1VV9NjiF8XD0aTiC4Wh0PpIADgdHMBr+dTEcT67cP76sFWbGpSD8Mq5BR0hmHATC6GWbbPoE+WZrG/h2fQfuO0KsDTfF3yYWKAQfun484scRsbQYIUcN5C/bQF44LDnzwXyntA8C6/vPEwmGM+pgusbPB6C7QqJ6we/58ft1G79jH6YmTck14G16oIngl45SmK4AneeM2h7/gtuz47aj7555hmNfurborJ8bJ4F3fvIYwXmGmUj1YEwEaWO3/l/nPlDXgRdcnxvX33b9GE8cU3BoYdzkaSgG+zBYm/Zal0EGKt+02CadL+A9L3hVoiLpMhhe1RPpIWGgsPf+80T1L69lAsyJMy+TbOEj1yMsZ6qv9rEw++1Uu7YwFmSaCLp2HqLImAvVDpzyPa2FVNK+HK8HPNESzySAWr11PFLwWzn4UBrLpm0VkZGNrqdtyHzkJml1WnRNqHbi1tYvv5PAQTkau1npLX24/XMuiz3tcxn7rNHkInW0P5xMZGNBITY+HPRe997KkuQoR9eRvWjvGLVL0q4QYkHazAylmx7XexpWZ9R+udr9b652LY+Z7ni/sHJdqxJVBit4NXVxqbAwwnGpjOtECQll9f5+ipEugq0qWf5WUpCCu07UAoMRB+t6S9YXP6nF1ETZSFV/hjbSDxjy06htKj/Df3FD3BnmLa22rqoLtKVIqiq5bwXeNU7tTcTGRmLXbXGjNNCaCu6Ib/X9R53o4/l4Il2jvZTmPhUdMVzbTTavTU5lsO+0oSdtp851u4Vu1fHi96aLwcTfkvtDrXPA8qmq66qq/gUa8Sd0",sidebar_class_name:"post api-method",info_path:"docs/OpenAPI/sero",custom_edit_url:null},sidebar:"tutorialSidebar",previous:{title:"Removes a specific site identified by the `x-subdomain` header.",permalink:"/sero-docs/docs/OpenAPI/teardown-site"}},T={},h=[{value:"Request",id:"request",level:2}],y={toc:h};function g(e){let{components:a,...s}=e;return(0,l.kt)("wrapper",(0,t.Z)({},y,s,{components:a,mdxType:"MDXLayout"}),(0,l.kt)("h1",{className:"openapi__heading"},"Uploads site for a specified subdomain."),(0,l.kt)(n(),{method:"post",path:"/api/site",mdxType:"MethodEndpoint"}),(0,l.kt)("p",null,"Warning: Old files will be removed after successful upload.\nThe cleanup task is configured with ",(0,l.kt)("inlineCode",{parentName:"p"},"CLEAN_OBSOLETE_INTERVAL")," env\nIf upload fails then old files will be preserved.\nIf upload fails on th stage of extracting zips then\nnew subdomain will be associated with user"),(0,l.kt)("p",null,"Upload guard checks amount of uploads available for user.\nThe guard is configured with ",(0,l.kt)("inlineCode",{parentName:"p"},"MAX_SITES_PER_USER")," env."),(0,l.kt)("h2",{id:"request"},"Request"),(0,l.kt)("details",{style:{marginBottom:"1rem"},className:"openapi-markdown__details","data-collapsed":!1,open:!0},(0,l.kt)("summary",{style:{}},(0,l.kt)("h3",{className:"openapi-markdown__details-summary-header-params"},"Header Parameters")),(0,l.kt)("div",null,(0,l.kt)("ul",null,(0,l.kt)(d.Z,{className:"paramsItem",param:{name:"x-subdomain",in:"header",description:"x-subdomain header represents name of subdomain to call action on",required:!0,schema:{type:"string"}},mdxType:"ParamsItem"})))),(0,l.kt)(o.Z,{className:"openapi-tabs__mime",mdxType:"MimeTabs"},(0,l.kt)(c.default,{label:"multipart/form-data",value:"multipart/form-data-schema",mdxType:"TabItem"},(0,l.kt)("details",{style:{},className:"openapi-markdown__details mime","data-collapsed":!1,open:!0},(0,l.kt)("summary",{style:{},className:"openapi-markdown__details-summary-mime"},(0,l.kt)("h3",{className:"openapi-markdown__details-summary-header-body"},"Body"),(0,l.kt)("strong",{className:"openapi-schema__required"},"required")),(0,l.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,l.kt)("ul",{style:{marginLeft:"1rem"}},(0,l.kt)(p.Z,{collapsible:!1,name:"archive",required:!0,schemaName:"binary",qualifierMessage:void 0,schema:{type:"string",format:"binary"},mdxType:"SchemaItem"}))))),(0,l.kt)("div",null,(0,l.kt)("div",null,(0,l.kt)(i.Z,{label:void 0,id:void 0,mdxType:"ApiTabs"},(0,l.kt)(c.default,{label:"204",value:"204",mdxType:"TabItem"},(0,l.kt)("div",null,(0,l.kt)("p",null,"Site was successfully uploaded")),(0,l.kt)("div",null)),(0,l.kt)(c.default,{label:"400",value:"400",mdxType:"TabItem"},(0,l.kt)("div",null,(0,l.kt)("p",null,"The 'x-subdomain' header is missing or contains invalid characters.")),(0,l.kt)("div",null,(0,l.kt)(o.Z,{className:"openapi-tabs__mime",schemaType:"response",mdxType:"MimeTabs"},(0,l.kt)(c.default,{label:"application/json",value:"application/json",mdxType:"TabItem"},(0,l.kt)(u.default,{className:"openapi-tabs__schema",mdxType:"SchemaTabs"},(0,l.kt)(c.default,{label:"Schema",value:"Schema",mdxType:"TabItem"},(0,l.kt)("details",{style:{},className:"openapi-markdown__details response","data-collapsed":!1,open:!0},(0,l.kt)("summary",{style:{},className:"openapi-markdown__details-summary-response"},(0,l.kt)("strong",null,"Schema")),(0,l.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,l.kt)("ul",{style:{marginLeft:"1rem"}},(0,l.kt)(p.Z,{collapsible:!1,name:"reason",required:!0,schemaName:"string",qualifierMessage:void 0,schema:{type:"string",description:"This field will contain error information"},mdxType:"SchemaItem"})))),(0,l.kt)(c.default,{label:"Example (from schema)",value:"Example (from schema)",mdxType:"TabItem"},(0,l.kt)(r.Z,{responseExample:'{\n  "reason": "string"\n}',language:"json",mdxType:"ResponseSamples"}))))))),(0,l.kt)(c.default,{label:"401",value:"401",mdxType:"TabItem"},(0,l.kt)("div",null,(0,l.kt)("p",null,"Unauthorized: The JWT in the header is invalid or expired.")),(0,l.kt)("div",null,(0,l.kt)(o.Z,{className:"openapi-tabs__mime",schemaType:"response",mdxType:"MimeTabs"},(0,l.kt)(c.default,{label:"application/json",value:"application/json",mdxType:"TabItem"},(0,l.kt)(u.default,{className:"openapi-tabs__schema",mdxType:"SchemaTabs"},(0,l.kt)(c.default,{label:"Schema",value:"Schema",mdxType:"TabItem"},(0,l.kt)("details",{style:{},className:"openapi-markdown__details response","data-collapsed":!1,open:!0},(0,l.kt)("summary",{style:{},className:"openapi-markdown__details-summary-response"},(0,l.kt)("strong",null,"Schema")),(0,l.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,l.kt)("ul",{style:{marginLeft:"1rem"}},(0,l.kt)(p.Z,{collapsible:!1,name:"reason",required:!0,schemaName:"string",qualifierMessage:void 0,schema:{type:"string",description:"This field will contain error information"},mdxType:"SchemaItem"})))),(0,l.kt)(c.default,{label:"Example (from schema)",value:"Example (from schema)",mdxType:"TabItem"},(0,l.kt)(r.Z,{responseExample:'{\n  "reason": "string"\n}',language:"json",mdxType:"ResponseSamples"}))))))),(0,l.kt)(c.default,{label:"403",value:"403",mdxType:"TabItem"},(0,l.kt)("div",null,(0,l.kt)("p",null,"Forbidden: The subdomain is owned by another user.")),(0,l.kt)("div",null,(0,l.kt)(o.Z,{className:"openapi-tabs__mime",schemaType:"response",mdxType:"MimeTabs"},(0,l.kt)(c.default,{label:"application/json",value:"application/json",mdxType:"TabItem"},(0,l.kt)(u.default,{className:"openapi-tabs__schema",mdxType:"SchemaTabs"},(0,l.kt)(c.default,{label:"Schema",value:"Schema",mdxType:"TabItem"},(0,l.kt)("details",{style:{},className:"openapi-markdown__details response","data-collapsed":!1,open:!0},(0,l.kt)("summary",{style:{},className:"openapi-markdown__details-summary-response"},(0,l.kt)("strong",null,"Schema")),(0,l.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,l.kt)("ul",{style:{marginLeft:"1rem"}},(0,l.kt)(p.Z,{collapsible:!1,name:"reason",required:!0,schemaName:"string",qualifierMessage:void 0,schema:{type:"string",description:"This field will contain error information"},mdxType:"SchemaItem"})))),(0,l.kt)(c.default,{label:"Example (from schema)",value:"Example (from schema)",mdxType:"TabItem"},(0,l.kt)(r.Z,{responseExample:'{\n  "reason": "string"\n}',language:"json",mdxType:"ResponseSamples"}))))))),(0,l.kt)(c.default,{label:"404",value:"404",mdxType:"TabItem"},(0,l.kt)("div",null,(0,l.kt)("p",null,"Not Found: The login or subdomain was not found. See details for more information.")),(0,l.kt)("div",null,(0,l.kt)(o.Z,{className:"openapi-tabs__mime",schemaType:"response",mdxType:"MimeTabs"},(0,l.kt)(c.default,{label:"application/json",value:"application/json",mdxType:"TabItem"},(0,l.kt)(u.default,{className:"openapi-tabs__schema",mdxType:"SchemaTabs"},(0,l.kt)(c.default,{label:"Schema",value:"Schema",mdxType:"TabItem"},(0,l.kt)("details",{style:{},className:"openapi-markdown__details response","data-collapsed":!1,open:!0},(0,l.kt)("summary",{style:{},className:"openapi-markdown__details-summary-response"},(0,l.kt)("strong",null,"Schema")),(0,l.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,l.kt)("ul",{style:{marginLeft:"1rem"}},(0,l.kt)(p.Z,{collapsible:!1,name:"reason",required:!0,schemaName:"string",qualifierMessage:void 0,schema:{type:"string",description:"This field will contain error information"},mdxType:"SchemaItem"})))),(0,l.kt)(c.default,{label:"Example (from schema)",value:"Example (from schema)",mdxType:"TabItem"},(0,l.kt)(r.Z,{responseExample:'{\n  "reason": "string"\n}',language:"json",mdxType:"ResponseSamples"}))))))),(0,l.kt)(c.default,{label:"500",value:"500",mdxType:"TabItem"},(0,l.kt)("div",null,(0,l.kt)("p",null,"Internal Server Error: An error occurred on the server.")),(0,l.kt)("div",null,(0,l.kt)(o.Z,{className:"openapi-tabs__mime",schemaType:"response",mdxType:"MimeTabs"},(0,l.kt)(c.default,{label:"application/json",value:"application/json",mdxType:"TabItem"},(0,l.kt)(u.default,{className:"openapi-tabs__schema",mdxType:"SchemaTabs"},(0,l.kt)(c.default,{label:"Schema",value:"Schema",mdxType:"TabItem"},(0,l.kt)("details",{style:{},className:"openapi-markdown__details response","data-collapsed":!1,open:!0},(0,l.kt)("summary",{style:{},className:"openapi-markdown__details-summary-response"},(0,l.kt)("strong",null,"Schema")),(0,l.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,l.kt)("ul",{style:{marginLeft:"1rem"}},(0,l.kt)(p.Z,{collapsible:!1,name:"reason",required:!0,schemaName:"string",qualifierMessage:void 0,schema:{type:"string",description:"This field will contain error information"},mdxType:"SchemaItem"})))),(0,l.kt)(c.default,{label:"Example (from schema)",value:"Example (from schema)",mdxType:"TabItem"},(0,l.kt)(r.Z,{responseExample:'{\n  "reason": "string"\n}',language:"json",mdxType:"ResponseSamples"})))))))))))}g.isMDXComponent=!0}}]);